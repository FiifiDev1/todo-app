version: 2.1
jobs:
    Build-Application:
      docker:
        - image: node:16.15.1-alpine
      steps:
        - run:
            name: install dependencies
            command:  | 
                        cat package.json
    Start-Backend-Server:
      docker:
        - image: node:16.15.1-alpine
      steps:
        - run:
            name: start json server
            command: npm server
    Complete:
      docker:
        - image: node:16.15.1-alpine
      steps:
        - run: 
            name: let me know that the jobs ran successfully
            command: echo "Jobs completed"
workflows:
  Build-Start-Server-Workflow:
      jobs:
        - Build-Application
        - ApproveFrontend-Build:
            type: approval
            requires: 
              - Build-Application
        - Start-Backend-Server:
            requires:
              - Build-Application
        - Complete


